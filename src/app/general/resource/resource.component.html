<div class="resource" *ngIf="!isLoading">
  <img class="image" [src]="image" (click)="goToView()">
  <div class="details">
    <h4>{{ title }}</h4>
    <p *ngIf="type === 'ext-content'">{{ description | truncate:[40] }}</p>
    <div *ngIf="type === 'article'" [innerHtml]="description | truncate:[175]"></div>
    <div class="actions">
      <button (click)="goToEdit()" mat-button *ngIf="loggedInUser === resourceUser">
        <fa-icon [icon]="faEdit"></fa-icon>
      </button>

      <a [href]="url" target="_blank">
        <button mat-button>
          <fa-icon [icon]="faExternalLinkAlt"></fa-icon>
        </button>
      </a>

      <button *ngIf="!isInCollectionPage && resourceUser === loggedInUser" mat-button color="warn" (click)="openDrDialog()">
        <fa-icon [icon]="faTrashAlt"></fa-icon>
      </button>

      <button *ngIf="isInCollectionPage && routeUser === loggedInUser" mat-button color="warn" (click)="deleteResourceFromCollection()">
        <fa-icon [icon]="faFolderMinus"></fa-icon>
      </button>
    </div>
  </div>
  <div class="stats"></div>
</div>

<app-loading type="resource" *ngIf="isLoading"></app-loading>